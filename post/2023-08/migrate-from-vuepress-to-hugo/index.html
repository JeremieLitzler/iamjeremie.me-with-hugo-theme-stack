<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='I have used VuePress for a year. At work, we use it for documenting our processes and guides (about 400+ articles). But it became slow.'><title>Migrate from Vuepress to Hugo</title>
<link rel=canonical href=https://iamjeremie.me/post/2023-08/migrate-from-vuepress-to-hugo/ itemprop=url><link rel=stylesheet href=/scss/style.min.d8118f156935b64eca93aca758476adca858d2c47354971654d9bd2933a0e45f.css><meta property='og:title' content='Migrate from Vuepress to Hugo'><meta property='og:description' content='I have used VuePress for a year. At work, we use it for documenting our processes and guides (about 400+ articles). But it became slow.'><meta property='og:url' content='https://iamjeremie.me/post/2023-08/migrate-from-vuepress-to-hugo/'><meta property='og:site_name' content='Jérémie Litzler'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Static site generator'><meta property='article:published_time' content='2023-08-30T00:00:00+00:00'><meta property='article:modified_time' content='2023-08-30T00:00:00+00:00'><meta property='og:image' content='https://iamjeremie.me/post/2023-08/migrate-from-vuepress-to-hugo/images/2023-08-30-hugo-homepage.jpg'><meta name=twitter:title content="Migrate from Vuepress to Hugo"><meta name=twitter:description content="I have used VuePress for a year. At work, we use it for documenting our processes and guides (about 400+ articles). But it became slow."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://iamjeremie.me/post/2023-08/migrate-from-vuepress-to-hugo/images/2023-08-30-hugo-homepage.jpg'><link rel="shortcut icon" href=/favicon.ico></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/profilepic-400w_hu0d260670f142c28330b6a3dd6fbeddc8_111803_300x0_resize_q75_box.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><p class=site-name><a href=/>Jérémie Litzler</a></p><p class=site-description>I share my notes and experiences that can be useful to one of you. Enjoy the read!</p></div></header><ol class=social-menu><li><a href=https://github.com/JeremieLitzler target=_blank title=GitHub rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com/LitzlerJeremie target=_blank title=Twitter rel=me><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/page/about/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>Who am I?</span></a></li><li><a href=/page/sponsor-me/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-heart-handshake" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#707070" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.5 12.572 12 20l-7.5-7.428A5 5 0 1112 6.006a5 5 0 117.5 6.572"/><path d="M12 6 8.707 9.293a1 1 0 000 1.414l.543.543c.69.69 1.81.69 2.5.0l1-1a3.182 3.182.0 014.5.0l2.25 2.25"/><path d="M12.5 15.5l2 2"/><path d="M15 13l2 2"/></svg>
<span>Support my work</span></a></li><li><a href=/page/search/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/page/contact-me/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-message-chatbot" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#707070" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 21V8a3 3 0 013-3h10a3 3 0 013 3v6a3 3 0 01-3 3H8l-4 4"/><path d="M9.5 9h.01"/><path d="M14.5 9h.01"/><path d="M9.5 13a3.5 3.5.0 005 0"/></svg>
<span>Let's talk</span></a></li><li><a href=/page/archives/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><div class=menu-bottom-section><li id=i18n-switch><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://iamjeremie.me/ selected></option></select></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></div></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#which-alternative>Which alternative</a><ol><li><a href=#the-goal>The goal</a></li><li><a href=#the-choice>The choice</a></li></ol></li><li><a href=#hugo-prerequisites>Hugo prerequisites</a><ol><li><a href=#install-hugo>Install Hugo</a></li></ol></li><li><a href=#the-tasks-to-migrate-the-content>The tasks to migrate the content</a><ol><li><a href=#1--dont-use-fenced-code-blocks-with-xy-after-languages-declaration>1- Don’t use fenced code blocks with &ldquo;{x,y,&mldr;}&rdquo; after language’s declaration</a></li><li><a href=#2--copy-the-content-of-vuepresspublic-into-the-folder-contentstatic>2- Copy the content of <code>.vuepress/public</code> into the folder <code>content/static</code></a></li><li><a href=#3--rename-all-the-readmemd-to-indexmd-if-you-used-to-name-the-root-file>3- Rename all the <code>README.md</code> to <code>index.md</code>, if you used to name the root file</a></li><li><a href=#4--pick-a-theme>4- Pick a theme</a></li><li><a href=#5--update-on-the-theme>5- Update on the theme</a><ol><li><a href=#relative-links>Relative links</a></li><li><a href=#block-containers>Block containers</a></li></ol></li><li><a href=#6--update-the-frontmatter>6- Update the frontmatter</a></li><li><a href=#7--images-in-the-markdown-files>7- Images in the markdown files</a></li></ol></li><li><a href=#comparison-of-vuepress-vs-hugo>Comparison of VuePress vs. Hugo</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/post/2023-08/migrate-from-vuepress-to-hugo/><img src=/post/2023-08/migrate-from-vuepress-to-hugo/images/2023-08-30-hugo-homepage_hu8d586a1c04cf51476b2b5069cfd56fc5_105475_600x0_resize_q75_box.jpg srcset="/post/2023-08/migrate-from-vuepress-to-hugo/images/2023-08-30-hugo-homepage_hu8d586a1c04cf51476b2b5069cfd56fc5_105475_360x0_resize_q75_box.jpg 360w, /post/2023-08/migrate-from-vuepress-to-hugo/images/2023-08-30-hugo-homepage_hu8d586a1c04cf51476b2b5069cfd56fc5_105475_600x0_resize_q75_box.jpg 600w, /post/2023-08/migrate-from-vuepress-to-hugo/images/2023-08-30-hugo-homepage_hu8d586a1c04cf51476b2b5069cfd56fc5_105475_1024x0_resize_q75_box.jpg 1024w" width=600 height=230 alt="Image de l'article 'Migrate from Vuepress to Hugo'"></a></div><div class=article-details><header class=article-category><a href=/categories/web-development/>Web Development</a></header><div class=article-title-wrapper><h1 class=article-title><a href=/post/2023-08/migrate-from-vuepress-to-hugo/>Migrate from Vuepress to Hugo</a></h1><h2 class=article-subtitle>I have used VuePress for a year. At work, we use it for documenting our processes and guides (about 400+ articles). But it became slow.</h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Aug 30, 2023</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>10 minute read</time></div></footer></div></header><section class=article-content><p>I have used VuePress for a year. At work, we use it for documenting our processes and guides (about 400+ articles).</p><p>The build took:</p><ul><li>86 seconds to initialize and prepare the data</li><li>64 seconds to compile</li><li>81 seconds to render</li></ul><p>which equals to 236 seconds in total</p><p><img src=/post/2023-08/migrate-from-vuepress-to-hugo/images/build-time-of-a-documentation-site-at-work.jpg width=674 height=233 srcset="/post/2023-08/migrate-from-vuepress-to-hugo/images/build-time-of-a-documentation-site-at-work_hu4b8c9f1161c3b6924b9cddee189e1c57_37470_360x0_resize_q75_box.jpg 360w, /post/2023-08/migrate-from-vuepress-to-hugo/images/build-time-of-a-documentation-site-at-work_hu4b8c9f1161c3b6924b9cddee189e1c57_37470_600x0_resize_q75_box.jpg 600w, /post/2023-08/migrate-from-vuepress-to-hugo/images/build-time-of-a-documentation-site-at-work_hu4b8c9f1161c3b6924b9cddee189e1c57_37470_1024x0_resize_q75_box.jpg 1024w" loading=lazy alt="Build time of a documentation site at work" class=gallery-image data-flex-grow=289 data-flex-basis=694px></p><p>On a virtual development machine, it took:</p><ul><li>61 seconds to initialize and prepare the data</li><li>199 seconds to compile</li><li>90 seconds to render</li><li>which equals to 368 seconds in total</li></ul><p>It seems fine and the CI build on Azure DevOps was taking about 4 min, which is similar.</p><p>But two colleagues reported that it took over 800 seconds…</p><p>The story and reasons behind this can be found here: <a href=https://github.com/orgs/vuepress-theme-hope/discussions/2887>https://github.com/orgs/vuepress-theme-hope/discussions/2887</a>.</p><p>Personally, on my websites, I had issues with VuePress in terms of SEO:</p><ul><li>non-normalized taxonomy,</li><li>no access to customization of the category and tag pages,</li><li>bloated frontmatter to add canonical links and OpenGraph meta.</li></ul><h2 id=which-alternative>Which alternative</h2><h3 id=the-goal>The goal</h3><p>I needed:</p><ul><li>The functionalities in terms of Markdown syntax</li><li>A performant build</li><li>Support for blockcontainer, e.g., to display notes, tips, warnings and so on.</li><li>Support for meta data for OpenGraph and canonical</li><li>Taxonomy with categories and tags</li><li>In-line markdown links to link to other posts or pages within the website</li></ul><p>Plus, if I could have support for natural SEO with the ability to customize the title and description of all pages (in particular the taxonomy pages) and normalize the URLs so that SEO is happy, that’d be great.</p><p>This last point would be possible and would be a nice surprise, but I didn’t know it when I started investigating Hugo.</p><h3 id=the-choice>The choice</h3><p>I thought about using a static site generator like Hugo for the build time.</p><p>However, this would require to adapt the content because VuePress and Hugo are very different when it comes to parsing the markdown (the first is in JavaScript and the other in Go…).</p><p>I knew nothing about Go language :O</p><h2 id=hugo-prerequisites>Hugo prerequisites</h2><p>To start using Hugo, we need:</p><ul><li>to download and install Go (nothing particular to do on installing, just click “next”): <a href=https://go.dev/dl/>https://go.dev/dl/</a></li><li>to download Hugo (I took the latest version 0.117.0): <a href=https://github.com/gohugoio/hugo/releases/>https://github.com/gohugoio/hugo/releases/</a></li></ul><h3 id=install-hugo>Install Hugo</h3><p>For windows user:</p><ul><li>Create a folder <code>Hugo</code> in <code>C:\Program Files</code></li><li>Copy the content of the ZIP downloaded earlier into <code>C:\Program Files\Hugo</code></li><li>Add to the <code>PATH</code> the path to Hugo executable <code>C:\Program Files\Hugo</code></li><li>(Re)Launch Visual Studio Code and open the terminal <code>Git Bash</code> with <code>CTRL+ù</code>.</li><li>Execute the command <code>hugo</code>. You should see the message “<em>Error: Unable to locate config file or config directory. Perhaps you need to create a new site</em>”. It tells you that Hugo is operational :)</li></ul><div class="jli-notice jli-notice-warning" id="Refrain from using Windows Prompt or Windows PowerShell"><p class=jli-notice-title>Refrain from using Windows Prompt or Windows PowerShell</p><p>To run the <code>hugo</code> command, prefer using:</p><ul><li>Git Bash, included with Git by default.</li><li>Powershell 7.x or more recent.</li></ul></div><h2 id=the-tasks-to-migrate-the-content>The tasks to migrate the content</h2><h3 id=1--dont-use-fenced-code-blocks-with-xy-after-languages-declaration>1- Don’t use fenced code blocks with &ldquo;{x,y,&mldr;}&rdquo; after language’s declaration</h3><p>Something like that won’t compile:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>```xml{1,26}
</span></span><span class=line><span class=cl>... some XML ...
</span></span></code></pre></td></tr></table></div></div><p>Clean up the occurrences if you have any.</p><h3 id=2--copy-the-content-of-vuepresspublic-into-the-folder-contentstatic>2- Copy the content of <code>.vuepress/public</code> into the folder <code>content/static</code></h3><p>Also, if you are using something like Drawio and that you use the <em>export to HTML</em> feature, you will need to add what follows at the top of each exported HTML file:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>+++
</span></span><span class=line><span class=cl>+++
</span></span></code></pre></td></tr></table></div></div><p>This allows the website to compile (see <a href=https://discourse.gohugo.io/t/solved-using-html-for-content-pages-instead-of-markdown/3374/5>https://discourse.gohugo.io/t/solved-using-html-for-content-pages-instead-of-markdown/3374/5</a>).</p><h3 id=3--rename-all-the-readmemd-to-indexmd-if-you-used-to-name-the-root-file>3- Rename all the <code>README.md</code> to <code>index.md</code>, if you used to name the root file</h3><p>Hugo requires the markdown files in a directory to be named <code>index.md</code> when you use the following folder structure.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl>content/
</span></span><span class=line><span class=cl>    |__ post/
</span></span><span class=line><span class=cl>        |__ my-article/
</span></span><span class=line><span class=cl>            |__ index.md
</span></span><span class=line><span class=cl>            |__ images/
</span></span></code></pre></td></tr></table></div></div><p>I saw tutorials where people named them <code>something-else.md</code>, but it is when you use this other folder structure:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl>content/
</span></span><span class=line><span class=cl>    |__ post/
</span></span><span class=line><span class=cl>        |__ my-article.md
</span></span></code></pre></td></tr></table></div></div><p>I prefer the former because I keep the images specific to a post in the same place as the markdown file.</p><p>The script below has to be run into the <code>content</code> directory to convert the <code>README.md</code> files to <code>index.md</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>find . -iname <span class=s1>&#39;README.md&#39;</span> -execdir mv <span class=o>{}</span> index.md <span class=se>\;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=4--pick-a-theme>4- Pick a theme</h3><p>I tried the theme suggested by Hugo’s starter guide, but it was way too dull and I couldn’t get the list page to work.</p><p>Then I have found <a href=https://github.com/CaiJimmy>Jimmy</a>’s Stack theme: <a href=https://github.com/CaiJimmy/hugo-theme-stack-starter>https://github.com/CaiJimmy/hugo-theme-stack-starter</a>.</p><p>It is rich, works and is documented!</p><p>With this theme, I was missing the fenced blocks I use on the VuePress them for notes, tips, warnings and dangers messages.</p><h3 id=5--update-on-the-theme>5- Update on the theme</h3><p>To be honest, at first, with Hugo-recommended theme, I was a bit confused about how Hugo works.</p><p>Then, using <a href=https://github.com/CaiJimmy>Jimmy</a>’s theme made everything click.</p><p>My goal was to keep the natural relative links between the different files (relative links) and use the VuePress syntax provided in the <a href=https://theme-hope.vuejs.press/guide/markdown/container.html>Mr Hope theme</a> somehow.</p><h4 id=relative-links>Relative links</h4><p>Out of the box, Hugo doesn&rsquo;t provide the ability to render a relative markdown link like this one:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>[<span class=nt>My link to another page within the site</span>](<span class=na>../page/about.md</span>)
</span></span></code></pre></td></tr></table></div></div><p>to this link in HTML:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;https://mydomain.com/page/about/&#34;</span><span class=p>&gt;</span>My link to another page within the site<span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>While you could use the <code>{{&lt; ref "/path/to/page-or-post/" >}}</code> shortcode as the Hugo documentation tells you, it is not practical and lack intellisense within VSC for me to select the files.</p><div class="jli-notice jli-notice-warning" id="If you want to show shortcode example in fenced code blocks like above..."><p class=jli-notice-title>If you want to show shortcode example in fenced code blocks like above...</p><p>Do what Joe Mooring says <a href=https://github.com/gohugoio/hugo/issues/11054#issuecomment-1572295424>in the GitHub issue</a>.</p></div><p>Plus, I couldn&rsquo;t figure out how to replace the hundreds of links in my websites from markdown native syntax to shortcode syntax&mldr;</p><p>Thankfully, after a little bit of research, I found the template override of <code>render-link.html</code> that does exactly what I needed.</p><p>See <a href=https://github.com/JeremieLitzler/iamjeremie.me-with-hugo-theme-stack/blob/master/layouts/_default/_markup/render-link.html>here in my repository</a>.</p><p>You have to put it under <code>layouts/_default/_markup/render-link.html</code>.</p><div class="jli-notice jli-notice-warning" id="About non index.md files"><p class=jli-notice-title>About non index.md files</p><p>However, for relative links to any file not named <code>index.md</code>, it will not work.</p><p>I use this pattern for large pages:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>content/
</span></span><span class=line><span class=cl>    |__ post/
</span></span><span class=line><span class=cl>        |__ my-article/
</span></span><span class=line><span class=cl>            |__ images/
</span></span><span class=line><span class=cl>            |__ index.md
</span></span><span class=line><span class=cl>            |__ part-1.md
</span></span><span class=line><span class=cl>            |__ part-2.md
</span></span><span class=line><span class=cl>            |__ ...
</span></span><span class=line><span class=cl>            |__ part-N.md
</span></span></code></pre></td></tr></table></div></div><p>You need to either:</p><ul><li>Put the file into it own folder.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>content/
</span></span><span class=line><span class=cl>    |__ post/
</span></span><span class=line><span class=cl>        |__ my-article/
</span></span><span class=line><span class=cl>            |__ images/
</span></span><span class=line><span class=cl>            |__ index.md
</span></span><span class=line><span class=cl>            |__ part-1/
</span></span><span class=line><span class=cl>                |__ index.md
</span></span><span class=line><span class=cl>            |__ part-2/
</span></span><span class=line><span class=cl>                |__ index.md
</span></span><span class=line><span class=cl>            ...
</span></span><span class=line><span class=cl>            |__ part-N/
</span></span><span class=line><span class=cl>                |__ index.md
</span></span></code></pre></td></tr></table></div></div><ul><li>Merge the files together.</li></ul></div><h4 id=block-containers>Block containers</h4><p>Next, I wanted to use the equivalent syntax below with Hugo:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>:::warning My container title
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>My container body
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>:::
</span></span></code></pre></td></tr></table></div></div><p>With the help of <a href=https://github.com/Lovirr>Lovirr</a> and <a href=https://github.com/CaiJimmy>CaiJimmy</a>, I found the solution: creating a custom shortcode. See <a href=https://github.com/CaiJimmy/hugo-theme-stack/discussions/867>my discussion with them</a> on the topic.</p><p>You put it under <code>layouts/shortcodes</code>. In my case, I named it <code>blockcontainer.html</code>.</p><p>The content is <a href=https://github.com/JeremieLitzler/iamjeremie.me-with-hugo-theme-stack/blob/master/layouts/shortcodes/blockcontainer.html>available in my repository</a>.</p><p>You can change the CSS class, if you want. My styles are the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=nt>root</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>--theme-color</span><span class=p>:</span> <span class=mh>#3eaf7c</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--accent-color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>theme</span><span class=o>-</span><span class=kc>color</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nv>--body-text-color</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mf>0.8</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-note-light</span><span class=p>:</span> <span class=mh>#fdfdfe</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-note-dark</span><span class=p>:</span> <span class=mh>#858585</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-tip-light</span><span class=p>:</span> <span class=mh>#e6f6e6</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-tip-dark</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>theme</span><span class=o>-</span><span class=kc>color</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-warn-light</span><span class=p>:</span> <span class=mh>#fff8e6</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-warn-dark</span><span class=p>:</span> <span class=mh>#e6a700</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-danger-light</span><span class=p>:</span> <span class=mh>#ffebec</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-danger-dark</span><span class=p>:</span> <span class=mh>#e13238</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>:</span><span class=nd>root</span><span class=o>[</span><span class=nt>data-scheme</span><span class=o>=</span><span class=nt>dark</span><span class=o>]</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>--body-text-color</span><span class=p>:</span> <span class=nb>rgba</span><span class=p>(</span><span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mi>255</span><span class=p>,</span> <span class=mf>0.8</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-note-light</span><span class=p>:</span> <span class=mh>#858585</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-note-dark</span><span class=p>:</span> <span class=mh>#fdfdfe</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-tip-light</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>theme</span><span class=o>-</span><span class=kc>color</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-tip-dark</span><span class=p>:</span> <span class=mh>#e6f6e6</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-warn-light</span><span class=p>:</span> <span class=mh>#e6a700</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-warn-dark</span><span class=p>:</span> <span class=mh>#fff8e6</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-danger-light</span><span class=p>:</span> <span class=mh>#e13238</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>--notice-danger-dark</span><span class=p>:</span> <span class=mh>#ffebec</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>padding</span><span class=p>:</span> <span class=mf>0.5</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>border-radius</span><span class=p>:</span> <span class=mf>0.5</span><span class=kt>em</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>margin</span><span class=p>:</span> <span class=mi>1</span><span class=kt>em</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice</span> <span class=p>.</span><span class=nc>highlight</span><span class=o>,</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice</span> <span class=p>.</span><span class=nc>gallery</span><span class=o>,</span>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice</span> <span class=nt>blockquote</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>margin-left</span><span class=p>:</span> <span class=kc>initial</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>margin-right</span><span class=p>:</span> <span class=kc>initial</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>width</span><span class=p>:</span> <span class=kc>initial</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice</span> <span class=nt>p</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>margin</span><span class=p>:</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice-title</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>font-weight</span><span class=p>:</span> <span class=kc>bold</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice-note</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>background-color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>note</span><span class=o>-</span><span class=n>light</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>note</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border-left</span><span class=p>:</span> <span class=mi>4</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>note</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice-tip</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>background-color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>tip</span><span class=o>-</span><span class=n>light</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>tip</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border-left</span><span class=p>:</span> <span class=mi>4</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>tip</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice-warning</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>background-color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>warn</span><span class=o>-</span><span class=n>light</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>warn</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border-left</span><span class=p>:</span> <span class=mi>4</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>warn</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>.</span><span class=nc>jli-notice-danger</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>background-color</span><span class=p>:</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>danger</span><span class=o>-</span><span class=n>light</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border</span><span class=p>:</span> <span class=mi>1</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>danger</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>border-left</span><span class=p>:</span> <span class=mi>4</span><span class=kt>px</span> <span class=kc>solid</span> <span class=nf>var</span><span class=p>(</span><span class=o>--</span><span class=n>notice</span><span class=o>-</span><span class=n>danger</span><span class=o>-</span><span class=n>dark</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Next, I created <a href=https://github.com/JeremieLitzler/iamjeremie.me-with-hugo-theme-stack/blob/master/.vscode/shortcodes.code-snippets>this Visual Studio Code snippet</a> to use it very easily when I write content.</p><p>In the markdown file, it looks like that:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=nt>blockcontainer</span> <span class=na>jli-notice-warning</span> <span class=err>&#34;</span><span class=na>My</span> <span class=na>container</span> <span class=na>title</span><span class=err>&#34;</span> <span class=p>&gt;</span>}}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>My container body
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=p>/</span><span class=nt>blockcontainer</span> <span class=p>&gt;</span>}}
</span></span></code></pre></td></tr></table></div></div><p>To be clear, in the above example,</p><ul><li><code>jli-notice-warning</code> is CSS class added to the div block. It is referenced by <code>$noticeType</code> in the HTML definition of the shortcode.</li><li><code>My container title</code> is the title that the shortcode renders in the first <code>p</code> element</li><li><code>My container body</code> is the body or content of the shortcode. It can be any valid multiline markdown content. See <code>$raw</code> in the HTML definition of the shortcode.</li></ul><p>As you see shortcodes works like an HTML element, with an opening and closing tag.</p><p>You could use the opening syntax only:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=nt>blockcontainer</span> <span class=na>jli-notice-warning</span> <span class=err>&#34;</span><span class=na>Just</span> <span class=na>a</span> <span class=na>title</span><span class=err>&#34;</span> <span class=p>&gt;</span>}}
</span></span></code></pre></td></tr></table></div></div><p>You can use regular Markdown for images and links in the body.</p><p>For relative links to other pages or posts within a same site, be careful not to use the following markdown content when inside the blockcontainer.</p><p>For example, with the following structure under <code>content</code> directory:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-css data-lang=css><span class=line><span class=cl><span class=nt>content</span><span class=o>/</span>
</span></span><span class=line><span class=cl>    <span class=o>|</span><span class=nt>__</span> <span class=nt>post</span><span class=o>/</span>
</span></span><span class=line><span class=cl>        <span class=o>|</span><span class=nt>__</span> <span class=nt>an-awesome-post</span>
</span></span><span class=line><span class=cl>            <span class=o>|</span><span class=nt>__</span> <span class=nt>index</span><span class=p>.</span><span class=nc>md</span>
</span></span><span class=line><span class=cl>        <span class=o>|</span><span class=nt>__</span> <span class=nt>my-first-post</span>
</span></span><span class=line><span class=cl>            <span class=o>|</span><span class=nt>__</span> <span class=nt>index</span><span class=p>.</span><span class=nc>md</span>
</span></span></code></pre></td></tr></table></div></div><p>You can write the following markdown :</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=nt>blockcontainer</span> <span class=na>jli-notice-warning</span> <span class=err>&#34;</span><span class=na>My</span> <span class=na>container</span> <span class=na>title</span><span class=err>&#34;</span> <span class=p>&gt;</span>}}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[<span class=nt>My awesome post</span>](<span class=na>../an-awesome-post/index.md</span>)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=p>/</span><span class=nt>blockcontainer</span> <span class=p>&gt;</span>}}
</span></span></code></pre></td></tr></table></div></div><p>While the link would work outside the shortcode, it won’t inside… I haven’t figured out why.</p><p>However, I figured out how to make it work within the shortcode. You must use an absolute reference:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=nt>blockcontainer</span> <span class=na>jli-notice-warning</span> <span class=err>&#34;</span><span class=na>My</span> <span class=na>container</span> <span class=na>title</span><span class=err>&#34;</span> <span class=p>&gt;</span>}}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[<span class=nt>My awesome post</span>](<span class=na>/post/an-awesome-post/index.md</span>)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>{{<span class=p>&lt;</span> <span class=p>/</span><span class=nt>blockcontainer</span> <span class=p>&gt;</span>}}
</span></span></code></pre></td></tr></table></div></div><h3 id=6--update-the-frontmatter>6- Update the frontmatter</h3><p>First, I used to have <code>heroImage</code> and <code>heroAlt</code> (alternative text of the <code>heroImage</code>).</p><p>In Hugo, <code>heroImage</code> is <code>image</code> and it works the same. The value <code>image: /images/my-image.jpg</code> means the image must go in <code>static/images/</code>.</p><p>However, contrary to VuePress and the theme I used, this value works <code>image: images/my-image.jpg</code> (for a page, the image is in <code>/page/images/my-image.jpg</code>).</p><div class="jli-notice jli-notice-warning" id=Important><p class=jli-notice-title>Important</p><p>You must add frontmatter to each markdown file. Otherwise, you see the article but no title to click to navigate to the page or post, even if you have <code># My title</code> at the top&mldr;</p></div><h3 id=7--images-in-the-markdown-files>7- Images in the markdown files</h3><p>You simply need to declare an image in the usual way:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-markdown data-lang=markdown><span class=line><span class=cl> <span class=ni>#when</span> a folder “images” exists at the same level as the markdown file
</span></span><span class=line><span class=cl>![<span class=nt>My image</span>](<span class=na>images/my-image.jpg</span>)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=gh># when the image is in “/static/images”
</span></span></span><span class=line><span class=cl><span class=gh></span>![<span class=nt>My image</span>](<span class=na>/images/my-image.jpg</span>)
</span></span></code></pre></td></tr></table></div></div><h2 id=comparison-of-vuepress-vs-hugo>Comparison of VuePress vs. Hugo</h2><ul><li><p>Build performance ⇒ better on Hugo</p><p>for the same content, it takes half the time</p><p><img src=/post/2023-08/migrate-from-vuepress-to-hugo/images/with-hugo.png width=1055 height=60 srcset="/post/2023-08/migrate-from-vuepress-to-hugo/images/with-hugo_hu355e05b29f84d3aca05f11bc76447683_17156_360x0_resize_box_3.png 360w, /post/2023-08/migrate-from-vuepress-to-hugo/images/with-hugo_hu355e05b29f84d3aca05f11bc76447683_17156_600x0_resize_box_3.png 600w, /post/2023-08/migrate-from-vuepress-to-hugo/images/with-hugo_hu355e05b29f84d3aca05f11bc76447683_17156_1024x0_resize_box_3.png 1024w" loading=lazy alt="With Hugo" class=gallery-image data-flex-grow=1758 data-flex-basis=4220px></p><p>instead of</p><p><img src=/post/2023-08/migrate-from-vuepress-to-hugo/images/with-vuepress.png width=1061 height=59 srcset="/post/2023-08/migrate-from-vuepress-to-hugo/images/with-vuepress_huafd06667d5227cc187a40e1916d4c21b_17950_360x0_resize_box_3.png 360w, /post/2023-08/migrate-from-vuepress-to-hugo/images/with-vuepress_huafd06667d5227cc187a40e1916d4c21b_17950_600x0_resize_box_3.png 600w, /post/2023-08/migrate-from-vuepress-to-hugo/images/with-vuepress_huafd06667d5227cc187a40e1916d4c21b_17950_1024x0_resize_box_3.png 1024w" loading=lazy alt="With VuePress" class=gallery-image data-flex-grow=1798 data-flex-basis=4315px></p><p>In my team&rsquo;s documentation site at work, the build time went from ~250 seconds to 5 seconds. Not bad ;)</p></li><li><p>Blockcontainer ⇒ OK, using a custom shortcode.</p></li><li><p>Metadata ⇒ OK, OpenGraph + canonical are generated out-of-the-box and use the frontmatter <code>title</code>, <code>description</code> and <code>image</code>.</p></li><li><p>SEO ⇒ better, because I have control over all the pages, especially the categories and tags, even though I have to manually create them.</p><ul><li>See the <a href=https://github.com/CaiJimmy/hugo-theme-stack-starter>demo of the Hugo theme</a> I&rsquo;m using. You will quickly understand how it works.</li></ul></li><li><p>Image ⇒ I&rsquo;m not sure. While the documentation says responsiveness is available out-of-the-box and <code>webp</code> is possible, I have yet to figure this out.</p><ul><li>I couldn&rsquo;t compare with VuePress because LightHouse, PageSpeed.web.dev and GTMetrix tell me they can&rsquo;t analyze the VuePress article I wanted to compare&mldr;</li></ul></li><li><p>Category and tag taxonomy ⇒ better, URL is normalized and page is customizable :)</p></li><li><p>In-line markdown links to other posts or pages ⇒ OK</p></li></ul><p>One thing I needed to do: the organization of my content. While I used the following structure of my articles:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl>docs/
</span></span><span class=line><span class=cl>    |__ 2023/
</span></span><span class=line><span class=cl>        |__ 08/
</span></span><span class=line><span class=cl>            |__ my-article/
</span></span><span class=line><span class=cl>                |__ index.md
</span></span><span class=line><span class=cl>                |__ images/
</span></span></code></pre></td></tr></table></div></div><p>I move to this structure:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-md data-lang=md><span class=line><span class=cl>content/
</span></span><span class=line><span class=cl>    |__ post/
</span></span><span class=line><span class=cl>        |__ 2023-08
</span></span><span class=line><span class=cl>            |__ my-article/
</span></span><span class=line><span class=cl>                |__ index.md
</span></span><span class=line><span class=cl>                |__ images/
</span></span></code></pre></td></tr></table></div></div><p>I had to implement redirects from the old path to the new one.</p><p>This is achievable with <code>netlify.toml</code> file. See <a href=https://docs.netlify.com/routing/redirects/>https://docs.netlify.com/routing/redirects/</a></p><p>Feel free to use <a href=https://docs.google.com/spreadsheets/d/1cAA9Gfhx3jg3GRdvWGFvq-Gz2yXH66e8Yg4P_BFpw3Q>this Google Sheet</a> to build your redirects.</p><p>Use this bash script to list all posts that you copy the Sheet:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> /docs
</span></span><span class=line><span class=cl>find . -iname <span class=s1>&#39;README.md&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p>As you finish reading this long, but I hope useful article, I wish an awesome journey with Hugo.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/static-site-generator/>Static Site Generator</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/post/2024-03/how-to-add-cannonical-url-to-a-hugo-blog/><div class=article-image><img src=/post/2024-03/how-to-add-cannonical-url-to-a-hugo-blog/images/_huc23fe763f5e83a76a1019c115909cb05_477496_a110e9d78b89a4a0740684a3d07b8386.jpg width=250 height=150 loading=lazy alt=" How to add cannonical URL to a Hugo blog?" data-hash="md5-aWO7kA7O/VZrLkgipJRVyQ=="></div><div class=article-details><h2 class=article-title>How to add cannonical URL to a Hugo blog?</h2></div></a></article><article class=has-image><a href=/post/2024-03/extract-arrays-from-a-list-of-objects-into-a-single-array/><div class=article-image><img src=/post/2024-03/extract-arrays-from-a-list-of-objects-into-a-single-array/images/_hu5459c0360c2b0cb7a147d2df0eb350ca_1808319_a31bbc23a7b371f4251f78e939b31a8c.jpg width=250 height=150 loading=lazy alt=" Extract arrays from objects into a single array" data-hash="md5-AbcoQ4mYLXenQ5CaaQFzkg=="></div><div class=article-details><h2 class=article-title>Extract arrays from objects into a single array</h2></div></a></article><article class=has-image><a href=/post/2024-03/build-a-html-friendly-accordeon-without-javascript/><div class=article-image><img src=/post/2024-03/build-a-html-friendly-accordeon-without-javascript/images/_hu1a334ee449fe53106d1da918aba2b14f_732641_33da36e621dddaa379377160ae70f1a5.jpg width=250 height=150 loading=lazy alt=" Building an HTML accordion without JavaScript" data-hash="md5-9Lyg8N4UBsdpzCkK1V36UQ=="></div><div class=article-details><h2 class=article-title>Building an HTML accordion without JavaScript</h2></div></a></article><article class=has-image><a href=/post/2024-03/defining-your-props-in-vue-3-using-typescript/><div class=article-image><img src=/post/2024-03/defining-your-props-in-vue-3-using-typescript/images/_hu12c004845ccb373ba70e652681e368e2_167115_6739b93bc95358448e05da8fcc25a0a0.jpg width=250 height=150 loading=lazy alt=" Defining your props in Vue 3 using TypeScript" data-hash="md5-kI7N42AHpiVp3rExOHHzfQ=="></div><div class=article-details><h2 class=article-title>Defining your props in Vue 3 using TypeScript</h2></div></a></article><article class=has-image><a href=/post/2024-03/variable-types-in-javascript/><div class=article-image><img src=/post/2024-03/variable-types-in-javascript/images/_hu2aa14698dac678a8e2185ef9ead0193e_174830_084eb72b56968d83596fcfed7afeddac.png width=250 height=150 loading=lazy alt=" Differences between variable types in JavaScript" data-hash="md5-FTJfUcCHLKW5D+UFGLHFOg=="></div><div class=article-details><h2 class=article-title>Differences between variable types in JavaScript</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2021 -
2024 Jérémie Litzler</section><section class=powerby>License GPLv3 | <a href=https://iamjeremie.me/page/terms title="Read terms and conditions of this website">Terms</a><br>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.24.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>